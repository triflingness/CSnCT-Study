# Boot Manager

### 리눅스 부팅 과정

(1) 전원 ON

(2) ROM-BIOS 실행 

1️⃣ ROM-BIOS 실행하여 POST와 부트로더를 로딩한다.

- POST(Power On Selt Test)는 시스템에 정작된 하드웨어들을 인식하여 이상 유무를 체크한 후 에러가 발생할 경우 비프음으로 알린다.
- 부트로더를 로딩한다.

(3) 부트로더 실행

2️⃣ 부트로더를 실행하여 커널로드와 스와이퍼 프로세스를 호출한다.

- 리눅스 부트로더는 LILO와 GRUB를 사용한다. 부트로더를 통해 리눅스 커널을 로딩하고 커널을 선택하여 메모리가 로드되는 순간부터 부팅이 진행된다.
- 스와퍼 프로세스를 호출한다.

(4) 스와퍼 프로세스 수행

3️⃣ 스와퍼 프로세스 실행

- 리눅스 커널로드에서 인식했던 장치들의 드라이브를 초기화한다.
- init 프로세스를 수행한다.

(5) init 프로세스 실행

4️⃣ init 프로세스 실행하여 파일 /etc/inittab을 읽어 들인다.

(6) 부팅 레벨 결정

5️⃣ 부팅 레벨을 결정한다.

(7) rc.sysinit 스크립트 실행

6️⃣ /etc/rc.d/rc.sysinit 스크립트를 실행하여 시스템 초기화 작업을 수행한다.

(8) rcX.d 스크립트 실행

7️⃣ /etc/rc.d/rcX.d 스크립트가 실행되어 부팅 레벨에 대해 디렉터리 내의 스크립트가 순차적으로 수행된다.

(9) X 윈도우 실행

8️⃣ 부팅 레벨 5일 경우 GUI 사용자 환경으로 X-윈도우를 실행한다.

### 부트로더(Boot Loader)

1. 부트로더 기능
    1. 부트스트랩 로더(bootstrap loader)의 준말로 컴퓨터를 사용자가 사용할 수 있도록 디스크나 플래시에 저장된 운영체제를 읽어 주기억장치에 적재해 주는 프로그램이다.
    2. 부트로더(boot loader)는 운영체제가 시동되기 이전에 미리 실행되면서 커널이 올바르게 시동되기 위해 필요한 모든 관련 작업을 마무리하고 최종적으로 운영체제를 시동시키기 위한 프로그램이다.
    3. 임베디드 시스템(embedded system) 부트로더란, PC의 BIOS와 OS Loader의 기능을 수행하는 프로그램으로 시스템이 부팅할 때 가장 먼저 수행된다.
    4. 운영체제 실행에 필요한 환경을 설정하고 운영체제 이미지를 메모리에 복사한다.
    5. 부트로더는 부트 매니저라고도 부르며 크기가 512바이트로 하드디스크의 첫 번째 섹터인 MBR(Master Boot Record)에 위치한다.
    6. MBR은 하드디스크의 첫 번째 섹터로 부트 매니저 프로그램과 파티션 정보를 저장한다. 주 파티션마다 부트 섹터(boot sector)가 할당된다.
    7. 부트 섹터는 디스크의 다른 부분에 저장되는 부팅 프로그램을 담을 수 있는 하드디스크, 플로피 디스크 또는 비슷한 기억 장치의 섹터를 말한다.
    8. 분할된 주 파티션들은 자신의 부트 레코드를 MBR에 기록하여 실행된다.
    9. 한 컴퓨터에 다수의 운영체제가 설치되어 있을 경우 작업 운영체제를 선택하여 부팅할 수 있게 한다.
    10. x86 아키텍처에서 많이 사용되는 부트로더는 LILO(LInux LOader)와 GRUB(GRand Unified Bootloader)이다.
        - LILO는 리눅스 운영체제에 한정되어 사용되는 반면 GRUB는 리눅스 운영체제 외에도 다른 운영체제에서도 사용 가능하다.
        - GRUB와 LILO 모두 System 전원이 공급되면 가장 먼저 ROM-BIOS에서 시스템 제어권을 가지고 장착된 하드웨어에 대한 기본적인 점검과 인식을 한다.
        - ROM-BIOS는 하드디스크의 첫 번째 부트 섹터인 MBR(Master Bpoot Record)에 있는 Boot Loader에게 제어권을 넘긴다.

1. Grub(GRand Unified Bootloader)
    - Erich Stefan Boleny에 의해서 개발된 부트로더이다.
    - GRUB 부트로더는 리눅스 부팅 시 처음 나오는 선택화면이다.
    - 리눅스의 전통적인 부트로더로 사용되어 왔던 LILO의 단점을 보완한 것이다.
    - LILO에 비해 설정 및 사용이 편리하다.
    - 부트 정보를 사용자가 임의로 변경해 부팅할 수 있어, 부트 정보가 올바르지 않더라도 부팅 시 바로 수정하여 부팅할 수 있다.
    - 다른 운영체제와 멀티 부팅할 수 있다.
    - 대화형 설정이므로 커널의 경로와 파일 이름만 알면 부팅할 수 있다.
    - 메뉴 인터페이스 환경을 지원하며, 대화명 모드로 부트 정보를 설정할 수 있다.
    - 파일 시스템과 커널 실행 포맷을 인식하여 하드 디스크상에서 커널의 물리적 위치를 기록하지 않아도 커널 위치와 커널 이미지 파일명만 알고 있으면 부팅이 가능하다.
    - CentOS 6(kernel 2.6)에서는 Frub Legacy를, CentOS 7(kernel 3.X)에서는 GRUB 2 버전을 사용한다.
    -
