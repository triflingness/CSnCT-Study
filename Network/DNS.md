# DNS
> Domain Name Server
> 

도메인 이름과 호스트 네트워크 주소(IP주소)의 정보를 매핑시켜 저장하는 서버

사람이 쉽게 기억할 수 있는 도메인 이름을 컴퓨터가 식별 가능한 숫자 형태의 주소로 변환시켜줍니다.

### 도메인 계층 구조

- 도메인은 `.` (dot)으로 연결한 계층 구조를 가지고 있습니다.
- 나무를 거꾸로 한 것 같은 모양으로 `역 트리(Inverted tree) 구조` 라고 불린다.
- 루트 도메인 → 1단계 도메인(최상위 도메인) → 2단계 도메인 → 3단계 도메인 → 4단계 도메인(서브 도메인)
    - **최상위 도메인** - 국가 최상위 도메인, 일반 도메인으로 나뉩니다. (`uk`, `kr`, ... / `org`, `com`, ...)
    - **2단계 도메인** - 조직의 속성을 구분합니다. (`co` , `go` , ... )
    - **3단계 도메인** - 조직이나 서비스의 이름을 나타냅니다. 도메인 사용자가 원하는 문자열을 사용할 수 있습니다.
    - 4단계 도메인 - 주 도메인의 일부 (`www`, `m`, ...)
    

> ✔️ **예시** `www.korea.go.kr` 
>
> - `kr` - 최상위 도메인
> - `go` - 2단계 도메인
> - `korea` - 3단계 도메인
> - `www` - 서브 도메인

## DNS 처리 과정

<p align="center">
  <img src="https://github.com/triflingness/CSnCT-Study/blob/main/Network/imgs/DNS.png">
</p>

모든 DNS서버는 IP 주소를 알고 있는 루트 네임 서버에 접속하여 IP 주소를 찾습니다.

루트 네임 서버부터 도메인 계층을 따라서 질의과정을 반복합니다.

1. 사용자가 웹 브라우저에서 도메인을 입력
2. 클라이언트 호스트에 설정된 기본 DNS 서버에 해당 IP 주소를 물어봄
3. DNS서버에 해당 IP 주소가 있으면, 클라이언트에게 해당 IP 주소 반환
    
    -1. 없다면, 루트 네임 서버에 해당 IP 주소를 물어보고 루트 네임 서버는 ‘com’ 네임 서버의 IP 주소를 반환
    
    -2. ‘com’ 네임 서버는 ‘google.com’ 네임 서버의 IP 주소를 반환
    
    -3. ‘google.com’ 네임 서버는 ‘www.google.com’ 서버의 IP 주소를 반환
    
4. DNS 서버는 해당 IP 주소를 받고 클라이언트 호스트에게 반환
    -1. 반복질의를 피하기 위해, DNS 서버는 해당 IP 주소는 캐시에 임시로 저장합니다.

---

[https://better-together.tistory.com/128](https://better-together.tistory.com/128)
